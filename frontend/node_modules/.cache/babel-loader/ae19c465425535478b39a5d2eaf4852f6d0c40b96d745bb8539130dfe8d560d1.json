{"ast":null,"code":"import React,{useState,useEffect}from'react';import*as api from'../services/api';import{jsx as _jsx}from\"react/jsx-runtime\";const WishlistButton=_ref=>{let{courseId,user,onShowNotification,className=''}=_ref;const[isInWishlist,setIsInWishlist]=useState(false);const[loading,setLoading]=useState(false);useEffect(()=>{// Check if course is in user's wishlist\nif(user&&user.wishlist){setIsInWishlist(user.wishlist.includes(courseId));}},[courseId,user]);const handleToggleWishlist=async e=>{e.stopPropagation();// Prevent triggering parent click events\nif(!user){onShowNotification('Please login to add to wishlist','error');return;}setLoading(true);try{if(isInWishlist){await api.removeFromWishlist(courseId);setIsInWishlist(false);onShowNotification('Removed from wishlist','success');}else{await api.addToWishlist(courseId);setIsInWishlist(true);onShowNotification('Added to wishlist','success');}}catch(error){onShowNotification(error.message||'Failed to update wishlist','error');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"button\",{className:\"wishlist-button \".concat(isInWishlist?'active':'',\" \").concat(className),onClick:handleToggleWishlist,disabled:loading,title:isInWishlist?'Remove from wishlist':'Add to wishlist',\"aria-label\":isInWishlist?'Remove from wishlist':'Add to wishlist',children:/*#__PURE__*/_jsx(\"span\",{className:\"wishlist-icon\",children:loading?'‚è≥':isInWishlist?'üíñ':'ü§ç'})});};export default WishlistButton;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","WishlistButton","_ref","courseId","user","onShowNotification","className","isInWishlist","setIsInWishlist","loading","setLoading","wishlist","includes","handleToggleWishlist","e","stopPropagation","removeFromWishlist","addToWishlist","error","message","concat","onClick","disabled","title","children"],"sources":["D:/course/frontend/src/components/WishlistButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport * as api from '../services/api';\n\nconst WishlistButton = ({ courseId, user, onShowNotification, className = '' }) => {\n  const [isInWishlist, setIsInWishlist] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    // Check if course is in user's wishlist\n    if (user && user.wishlist) {\n      setIsInWishlist(user.wishlist.includes(courseId));\n    }\n  }, [courseId, user]);\n\n  const handleToggleWishlist = async (e) => {\n    e.stopPropagation(); // Prevent triggering parent click events\n\n    if (!user) {\n      onShowNotification('Please login to add to wishlist', 'error');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      if (isInWishlist) {\n        await api.removeFromWishlist(courseId);\n        setIsInWishlist(false);\n        onShowNotification('Removed from wishlist', 'success');\n      } else {\n        await api.addToWishlist(courseId);\n        setIsInWishlist(true);\n        onShowNotification('Added to wishlist', 'success');\n      }\n    } catch (error) {\n      onShowNotification(error.message || 'Failed to update wishlist', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <button\n      className={`wishlist-button ${isInWishlist ? 'active' : ''} ${className}`}\n      onClick={handleToggleWishlist}\n      disabled={loading}\n      title={isInWishlist ? 'Remove from wishlist' : 'Add to wishlist'}\n      aria-label={isInWishlist ? 'Remove from wishlist' : 'Add to wishlist'}\n    >\n      <span className=\"wishlist-icon\">\n        {loading ? '‚è≥' : (isInWishlist ? 'üíñ' : 'ü§ç')}\n      </span>\n    </button>\n  );\n};\n\nexport default WishlistButton;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,GAAK,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAA4D,IAA3D,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,kBAAkB,CAAEC,SAAS,CAAG,EAAG,CAAC,CAAAJ,IAAA,CAC5E,KAAM,CAACK,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd;AACA,GAAIO,IAAI,EAAIA,IAAI,CAACO,QAAQ,CAAE,CACzBH,eAAe,CAACJ,IAAI,CAACO,QAAQ,CAACC,QAAQ,CAACT,QAAQ,CAAC,CAAC,CACnD,CACF,CAAC,CAAE,CAACA,QAAQ,CAAEC,IAAI,CAAC,CAAC,CAEpB,KAAM,CAAAS,oBAAoB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACxCA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAE;AAErB,GAAI,CAACX,IAAI,CAAE,CACTC,kBAAkB,CAAC,iCAAiC,CAAE,OAAO,CAAC,CAC9D,OACF,CAEAK,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,GAAIH,YAAY,CAAE,CAChB,KAAM,CAAAT,GAAG,CAACkB,kBAAkB,CAACb,QAAQ,CAAC,CACtCK,eAAe,CAAC,KAAK,CAAC,CACtBH,kBAAkB,CAAC,uBAAuB,CAAE,SAAS,CAAC,CACxD,CAAC,IAAM,CACL,KAAM,CAAAP,GAAG,CAACmB,aAAa,CAACd,QAAQ,CAAC,CACjCK,eAAe,CAAC,IAAI,CAAC,CACrBH,kBAAkB,CAAC,mBAAmB,CAAE,SAAS,CAAC,CACpD,CACF,CAAE,MAAOa,KAAK,CAAE,CACdb,kBAAkB,CAACa,KAAK,CAACC,OAAO,EAAI,2BAA2B,CAAE,OAAO,CAAC,CAC3E,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEV,IAAA,WACEM,SAAS,oBAAAc,MAAA,CAAqBb,YAAY,CAAG,QAAQ,CAAG,EAAE,MAAAa,MAAA,CAAId,SAAS,CAAG,CAC1Ee,OAAO,CAAER,oBAAqB,CAC9BS,QAAQ,CAAEb,OAAQ,CAClBc,KAAK,CAAEhB,YAAY,CAAG,sBAAsB,CAAG,iBAAkB,CACjE,aAAYA,YAAY,CAAG,sBAAsB,CAAG,iBAAkB,CAAAiB,QAAA,cAEtExB,IAAA,SAAMM,SAAS,CAAC,eAAe,CAAAkB,QAAA,CAC5Bf,OAAO,CAAG,GAAG,CAAIF,YAAY,CAAG,IAAI,CAAG,IAAK,CACzC,CAAC,CACD,CAAC,CAEb,CAAC,CAED,cAAe,CAAAN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}