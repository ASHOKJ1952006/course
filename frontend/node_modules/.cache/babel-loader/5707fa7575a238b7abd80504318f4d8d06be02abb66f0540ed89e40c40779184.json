{"ast":null,"code":"var _jsxFileName = \"D:\\\\course\\\\frontend\\\\src\\\\components\\\\WishlistButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport * as api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WishlistButton = ({\n  courseId,\n  user,\n  onShowNotification,\n  className = ''\n}) => {\n  _s();\n  const [isInWishlist, setIsInWishlist] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    // Check if course is in user's wishlist\n    if (user && user.wishlist) {\n      setIsInWishlist(user.wishlist.includes(courseId));\n    }\n  }, [courseId, user]);\n  const handleToggleWishlist = async e => {\n    e.stopPropagation(); // Prevent triggering parent click events\n\n    if (!user) {\n      onShowNotification('Please login to add to wishlist', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      if (isInWishlist) {\n        await api.removeFromWishlist(courseId);\n        setIsInWishlist(false);\n        onShowNotification('Removed from wishlist', 'success');\n      } else {\n        await api.addToWishlist(courseId);\n        setIsInWishlist(true);\n        onShowNotification('Added to wishlist', 'success');\n      }\n    } catch (error) {\n      onShowNotification(error.message || 'Failed to update wishlist', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `wishlist-button ${isInWishlist ? 'active' : ''} ${className}`,\n    onClick: handleToggleWishlist,\n    disabled: loading,\n    title: isInWishlist ? 'Remove from wishlist' : 'Add to wishlist',\n    \"aria-label\": isInWishlist ? 'Remove from wishlist' : 'Add to wishlist',\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"wishlist-icon\",\n      children: loading ? '‚è≥' : isInWishlist ? 'üíñ' : 'ü§ç'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(WishlistButton, \"4kfTl/dnPYsJmFnCuU12aKLTJBk=\");\n_c = WishlistButton;\nexport default WishlistButton;\nvar _c;\n$RefreshReg$(_c, \"WishlistButton\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","WishlistButton","courseId","user","onShowNotification","className","_s","isInWishlist","setIsInWishlist","loading","setLoading","wishlist","includes","handleToggleWishlist","e","stopPropagation","removeFromWishlist","addToWishlist","error","message","onClick","disabled","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/course/frontend/src/components/WishlistButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport * as api from '../services/api';\n\nconst WishlistButton = ({ courseId, user, onShowNotification, className = '' }) => {\n  const [isInWishlist, setIsInWishlist] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    // Check if course is in user's wishlist\n    if (user && user.wishlist) {\n      setIsInWishlist(user.wishlist.includes(courseId));\n    }\n  }, [courseId, user]);\n\n  const handleToggleWishlist = async (e) => {\n    e.stopPropagation(); // Prevent triggering parent click events\n\n    if (!user) {\n      onShowNotification('Please login to add to wishlist', 'error');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      if (isInWishlist) {\n        await api.removeFromWishlist(courseId);\n        setIsInWishlist(false);\n        onShowNotification('Removed from wishlist', 'success');\n      } else {\n        await api.addToWishlist(courseId);\n        setIsInWishlist(true);\n        onShowNotification('Added to wishlist', 'success');\n      }\n    } catch (error) {\n      onShowNotification(error.message || 'Failed to update wishlist', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <button\n      className={`wishlist-button ${isInWishlist ? 'active' : ''} ${className}`}\n      onClick={handleToggleWishlist}\n      disabled={loading}\n      title={isInWishlist ? 'Remove from wishlist' : 'Add to wishlist'}\n      aria-label={isInWishlist ? 'Remove from wishlist' : 'Add to wishlist'}\n    >\n      <span className=\"wishlist-icon\">\n        {loading ? '‚è≥' : (isInWishlist ? 'üíñ' : 'ü§ç')}\n      </span>\n    </button>\n  );\n};\n\nexport default WishlistButton;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,KAAKC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,IAAI;EAAEC,kBAAkB;EAAEC,SAAS,GAAG;AAAG,CAAC,KAAK;EAAAC,EAAA;EACjF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd;IACA,IAAIM,IAAI,IAAIA,IAAI,CAACQ,QAAQ,EAAE;MACzBH,eAAe,CAACL,IAAI,CAACQ,QAAQ,CAACC,QAAQ,CAACV,QAAQ,CAAC,CAAC;IACnD;EACF,CAAC,EAAE,CAACA,QAAQ,EAAEC,IAAI,CAAC,CAAC;EAEpB,MAAMU,oBAAoB,GAAG,MAAOC,CAAC,IAAK;IACxCA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC,CAAC;;IAErB,IAAI,CAACZ,IAAI,EAAE;MACTC,kBAAkB,CAAC,iCAAiC,EAAE,OAAO,CAAC;MAC9D;IACF;IAEAM,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,IAAIH,YAAY,EAAE;QAChB,MAAMT,GAAG,CAACkB,kBAAkB,CAACd,QAAQ,CAAC;QACtCM,eAAe,CAAC,KAAK,CAAC;QACtBJ,kBAAkB,CAAC,uBAAuB,EAAE,SAAS,CAAC;MACxD,CAAC,MAAM;QACL,MAAMN,GAAG,CAACmB,aAAa,CAACf,QAAQ,CAAC;QACjCM,eAAe,CAAC,IAAI,CAAC;QACrBJ,kBAAkB,CAAC,mBAAmB,EAAE,SAAS,CAAC;MACpD;IACF,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdd,kBAAkB,CAACc,KAAK,CAACC,OAAO,IAAI,2BAA2B,EAAE,OAAO,CAAC;IAC3E,CAAC,SAAS;MACRT,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEV,OAAA;IACEK,SAAS,EAAE,mBAAmBE,YAAY,GAAG,QAAQ,GAAG,EAAE,IAAIF,SAAS,EAAG;IAC1Ee,OAAO,EAAEP,oBAAqB;IAC9BQ,QAAQ,EAAEZ,OAAQ;IAClBa,KAAK,EAAEf,YAAY,GAAG,sBAAsB,GAAG,iBAAkB;IACjE,cAAYA,YAAY,GAAG,sBAAsB,GAAG,iBAAkB;IAAAgB,QAAA,eAEtEvB,OAAA;MAAMK,SAAS,EAAC,eAAe;MAAAkB,QAAA,EAC5Bd,OAAO,GAAG,GAAG,GAAIF,YAAY,GAAG,IAAI,GAAG;IAAK;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEb,CAAC;AAACrB,EAAA,CAlDIL,cAAc;AAAA2B,EAAA,GAAd3B,cAAc;AAoDpB,eAAeA,cAAc;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}